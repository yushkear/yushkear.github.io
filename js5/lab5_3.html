<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>В мире животных (но без Дроздова)</title>
</head>
<body>
    <ul>
      <li><span>Животные </span><ul>
          <li><span>Млекопитающие </span><ul>
              <li><span>Коровы </span></li>
              <li><span>Ослы </span></li>
              <li><span>Собаки </span></li>
              <li><span>Тигры </span></li>
            </ul>
          </li>
          <li><span>Другие </span><ul>
              <li><span>Змеи </span></li>
              <li><span>Птицы </span></li>
              <li><span>Ящерицы </span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><span>Рыбы </span><ul>
          <li><span>Аквариумные </span><ul>
              <li><span>Гуппи </span></li>
              <li><span>Скалярии </span></li>
            </ul>
  
          </li>
          <li><span>Морские </span><ul>
              <li><span>Морская форель </span></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  
    <script>
    "use strict";
    let lis = document.getElementsByTagName('li');
    for (let i = 0; i < lis.length; i++) {
      let nestedLis = lis[i].querySelectorAll('li').length;
      let text = lis[i].firstChild.textContent.trim();
      let span = document.createElement('span');
      span.textContent = text + " - " + nestedLis;
      lis[i].replaceChild(span, lis[i].firstChild);
  }
    </script>
  </body>
</html>